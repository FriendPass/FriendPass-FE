import React, {useState, useEffect} from 'react'
import { useNavigate } from 'react-router-dom';
import Papa from 'papaparse';
import { updateNationality } from '../../api/auth';
import { useTranslation } from 'react-i18next';

const Join_natoin = () => {
const { t } = useTranslation();
const navigate = useNavigate();
const [nationalities, setNationalities] = useState([]);
const [query, setQuery] = useState('');
const [filteredNationalities, setFilteredNationalities] = useState([]);
const [selectedNationality, setSelectedNationality] = useState('');

  // CSV 불러오기
  useEffect(() => {
    Papa.parse('/nation.csv', {
      download: true,
      header: true,
      complete: (results) => {
        const nationalityData = results.data
          .map((row) => ({
            krName: row['한글 국가명']?.trim(),
            enName: row['영문 국가명']?.trim(),
            code: row['국가코드(ISO 2자리)']?.trim(),
          }))
          .filter(row => row.enName && row.code); // 둘 다 존재하는 행만
        setNationalities(nationalityData);
      },
      error: (error) => console.error('CSV 로딩 실패:', error),
    });
  }, []);

  // 입력 변화 시 필터링 (영문 이름 기준)
  const handleInputChange = (e) => {
    const val = e.target.value;
    setQuery(val);

    if (!val.trim()) {
      setFilteredNationalities([]);
      return;
    }

setFilteredNationalities(
  nationalities.filter(
    (nat) =>
      (nat.krName && nat.krName.toLowerCase().includes(val.toLowerCase())) ||
      (nat.enName && nat.enName.toLowerCase().includes(val.toLowerCase()))
  )
);
  };

  const handleShowANationalities = () => setFilteredNationalities(nationalities);

// 선택
const handleSelectNationality = (nat) => {
  setSelectedNationality(nat.code); // 국가코드만 상태에 저장
  setQuery(`${nat.krName} - ${nat.enName} (${nat.code})`); // 검색창에는 이름+코드 표시
  setFilteredNationalities([]);
};

// 확인 버튼 클릭 → localStorage에 저장
const handleConfirm = () => {
  if (!selectedNationality) {
    alert('국적을 선택해주세요.');
    return;
  }

  // 국가코드만 저장
  localStorage.setItem('selectedNationality', selectedNationality);
  alert(`국적 코드가 저장되었습니다: ${selectedNationality}`);
  navigate('/join'); // 최종 회원가입 페이지로 이동
};

  return (
    <div className='wrap'>
      <div className="join-nation-wrap">
    <div className='join-nation-box1'>
    <a href="/joinStudent">
    <svg className='back' width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.825 9L8.71247 13.8875C9.10497 14.28 9.10215 14.9172 8.70619 15.3062C8.31517 15.6904 7.68758 15.6876 7.29997 15.3L0.707106 8.70711C0.316582 8.31658 0.316583 7.68342 0.707107 7.29289L7.29997 0.700027C7.68759 0.312414 8.31517 0.309638 8.70619 0.693805C9.10215 1.08281 9.10497 1.72003 8.71247 2.11253L3.825 7H15C15.5523 7 16 7.44772 16 8C16 8.55229 15.5523 9 15 9H3.825Z" fill="#333333"/>
</svg>
</a>
<div>
  <svg className='join-logo' width="180" height="28" viewBox="0 0 180 28" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.0794 16.3149L3.50809 16.7822L3.63699 25L0.543243 25.1289L0.172638 2.16748L17.6717 1.89355L17.5589 4.97119L3.34695 5.19678L3.47586 13.6079L13.0149 13.2212L13.0794 16.3149ZM31.3686 15.9282C31.3579 15.4019 31.3095 14.9453 31.2236 14.5586C31.1484 14.1719 31.0463 13.8389 30.9174 13.5596C30.7993 13.2803 30.6596 13.0493 30.4985 12.8667C30.3481 12.6841 30.1923 12.5337 30.0312 12.4155C29.6552 12.147 29.2309 12.0181 28.7582 12.0288C28.4575 12.0718 28.1352 12.2007 27.7914 12.4155C27.4584 12.6196 27.1147 12.8882 26.7602 13.2212C26.4057 13.5435 26.0458 13.9141 25.6806 14.333C25.3261 14.7412 24.9824 15.1655 24.6494 15.606C24.3163 16.0356 23.9995 16.4653 23.6987 16.895C23.3979 17.3247 23.1293 17.7168 22.893 18.0713C22.9038 18.877 22.9199 19.6719 22.9413 20.4561C22.9628 21.2295 22.9789 21.9546 22.9897 22.6313C23.0112 23.2974 23.0327 23.9043 23.0541 24.4521C23.0864 24.9893 23.1186 25.4243 23.1508 25.7573L19.6865 26.1924C19.622 24.3447 19.5629 22.6743 19.5092 21.1812C19.4555 19.6772 19.4072 18.3345 19.3642 17.1528C19.3212 15.9712 19.2836 14.9292 19.2514 14.0269C19.2299 13.1245 19.2084 12.3457 19.187 11.6904C19.144 10.1543 19.1118 9.01562 19.0903 8.27441L22.7641 8.20996C22.7748 8.86523 22.7802 9.53662 22.7802 10.2241C22.791 10.9009 22.8017 11.5239 22.8124 12.0933C22.8232 12.7593 22.8286 13.4092 22.8286 14.043C23.1401 13.5488 23.5161 13.0063 23.9565 12.4155C24.4077 11.8247 24.9125 11.2661 25.4711 10.7397C26.0405 10.2134 26.6581 9.75684 27.3242 9.37012C28.0009 8.97266 28.7206 8.72559 29.4833 8.62891C30.3427 8.58594 31.1269 8.76855 31.8359 9.17676C32.1367 9.34863 32.4321 9.57959 32.7221 9.86963C33.0229 10.1489 33.2968 10.5142 33.5439 10.9653C33.8017 11.4058 34.0165 11.9375 34.1884 12.5605C34.3603 13.1729 34.4785 13.8979 34.5429 14.7358L31.3686 15.9282ZM40.9083 3.521C40.9083 3.83252 40.8438 4.12793 40.7149 4.40723C40.5968 4.68652 40.4303 4.92822 40.2154 5.13232C40.0113 5.33643 39.7696 5.49756 39.4903 5.61572C39.211 5.73389 38.9103 5.79297 38.588 5.79297C38.2765 5.79297 37.9811 5.73389 37.7018 5.61572C37.4332 5.49756 37.1915 5.33643 36.9767 5.13232C36.7726 4.92822 36.6114 4.68652 36.4933 4.40723C36.3751 4.12793 36.316 3.83252 36.316 3.521C36.316 3.19873 36.3751 2.89795 36.4933 2.61865C36.6114 2.33936 36.7726 2.09766 36.9767 1.89355C37.1915 1.67871 37.4332 1.51221 37.7018 1.39404C37.9811 1.26514 38.2765 1.20068 38.588 1.20068C38.9103 1.20068 39.211 1.26514 39.4903 1.39404C39.7696 1.51221 40.0113 1.67871 40.2154 1.89355C40.4303 2.09766 40.5968 2.33936 40.7149 2.61865C40.8438 2.89795 40.9083 3.19873 40.9083 3.521ZM40.151 9.19287C40.1188 10.729 40.0865 12.1416 40.0543 13.4307C40.0328 14.709 40.0113 15.8745 39.9898 16.9272C39.9684 17.98 39.9469 18.9253 39.9254 19.7632C39.9146 20.5903 39.9039 21.3154 39.8932 21.9385C39.8609 23.4209 39.8448 24.5864 39.8448 25.4351H36.5416C36.5631 24.2749 36.5899 22.8945 36.6222 21.2939C36.6437 19.9189 36.6705 18.2378 36.7027 16.2505C36.7457 14.2632 36.7833 11.9536 36.8155 9.32178L40.151 9.19287ZM51.866 23.5176C52.4353 23.5176 52.9993 23.4316 53.5579 23.2598C54.1165 23.0771 54.6321 22.8193 55.1047 22.4863C55.5774 22.1426 55.9856 21.7183 56.3294 21.2134C56.6838 20.7085 56.9417 20.123 57.1028 19.457L60.2127 20.0854C59.9119 21.063 59.4876 21.9492 58.9397 22.7441C58.3919 23.5391 57.7527 24.2212 57.0222 24.7905C56.2918 25.3599 55.4861 25.8003 54.6052 26.1118C53.7351 26.4233 52.822 26.5791 51.866 26.5791C50.448 26.5791 49.1912 26.3643 48.0955 25.9346C46.9998 25.5049 46.0759 24.8979 45.324 24.1138C44.572 23.3296 43.9973 22.3843 43.5999 21.2778C43.2131 20.1714 43.0198 18.936 43.0198 17.5718C43.0198 16.229 43.2454 14.9775 43.6965 13.8174C44.1585 12.6465 44.7869 11.6313 45.5818 10.772C46.3767 9.9126 47.3113 9.23584 48.3855 8.7417C49.4597 8.24756 50.6199 8.00049 51.866 8.00049C52.9832 8.00049 54.0359 8.2207 55.0242 8.66113C56.0125 9.09082 56.888 9.69238 57.6506 10.4658C58.4133 11.2285 59.0418 12.1309 59.5359 13.1729C60.03 14.2148 60.3416 15.3428 60.4705 16.5566L46.5164 18.6353C46.5916 19.3979 46.7796 20.0854 47.0803 20.6978C47.3811 21.2993 47.7625 21.8096 48.2244 22.2285C48.697 22.6475 49.2395 22.9697 49.8518 23.1953C50.4749 23.4102 51.1463 23.5176 51.866 23.5176ZM56.3132 14.478L56.2166 14.1719C55.8084 13.1084 55.2444 12.2759 54.5247 11.6743C53.8157 11.0728 52.9295 10.772 51.866 10.772C51.4148 10.772 50.9207 10.8525 50.3836 11.0137C49.8464 11.1641 49.3255 11.4272 48.8206 11.8032C48.3157 12.1792 47.8591 12.6841 47.4509 13.3179C47.0535 13.9409 46.7742 14.7197 46.613 15.6543L56.3132 14.478ZM63.5004 26.1924C63.436 24.3447 63.3769 22.6743 63.3232 21.1812C63.2695 19.6772 63.2211 18.3345 63.1781 17.1528C63.1352 15.9712 63.0976 14.9292 63.0654 14.0269C63.0439 13.1245 63.0224 12.3457 63.0009 11.6904C62.9579 10.1543 62.9257 9.01562 62.9042 8.27441L66.578 8.20996L66.6425 12.8506C66.997 12.2383 67.3998 11.6636 67.851 11.1265C68.3022 10.5786 68.7909 10.0952 69.3173 9.67627C69.8437 9.25732 70.4023 8.91895 70.9931 8.66113C71.5947 8.40332 72.2231 8.25293 72.8783 8.20996C73.6947 8.15625 74.4037 8.22607 75.0053 8.41943C75.6176 8.61279 76.1386 8.88135 76.5683 9.2251C76.998 9.56885 77.3525 9.97705 77.6318 10.4497C77.9111 10.9116 78.1313 11.395 78.2924 11.8999C78.4535 12.394 78.5663 12.8882 78.6308 13.3823C78.706 13.8765 78.7543 14.3276 78.7758 14.7358C78.8403 16.5835 78.8564 18.4419 78.8241 20.311C78.7919 22.1802 78.7543 24.1191 78.7113 26.1279L75.4081 26.0151C75.4941 24.2856 75.5693 22.5562 75.6337 20.8267C75.7089 19.0972 75.7035 17.3516 75.6176 15.5898C75.6176 15.3965 75.6015 15.1494 75.5693 14.8486C75.5478 14.5371 75.4887 14.2095 75.392 13.8657C75.3061 13.522 75.1825 13.1836 75.0214 12.8506C74.8603 12.5068 74.6508 12.2114 74.393 11.9644C74.1352 11.7065 73.8183 11.5132 73.4423 11.3843C73.0771 11.2554 72.6474 11.2285 72.1532 11.3037C71.3046 11.4326 70.4399 12.0557 69.559 13.1729C68.6889 14.2793 67.7489 15.9014 66.7392 18.0391C66.7822 19.7686 66.8144 21.1489 66.8359 22.1802C66.8681 23.2007 66.8949 23.9741 66.9164 24.5005C66.9379 25.1235 66.954 25.5425 66.9648 25.7573L63.5004 26.1924ZM99.8043 1.89355L99.7398 25.6606H96.4366L96.4688 23.6143C96.1466 23.915 95.8136 24.1782 95.4698 24.4038C95.1368 24.6294 94.7984 24.8281 94.4547 25C94.1217 25.1611 93.794 25.2954 93.4718 25.4028C93.1495 25.521 92.8433 25.6177 92.5533 25.6929C91.8765 25.8647 91.2052 25.9614 90.5391 25.9829C89.293 25.9829 88.1329 25.7627 87.0587 25.3223C85.9845 24.8926 85.0499 24.2749 84.255 23.4692C83.46 22.6528 82.8316 21.6646 82.3697 20.5044C81.9185 19.3442 81.6929 18.0391 81.6929 16.5889C81.6929 15.1279 81.9454 13.8281 82.4503 12.6895C82.9552 11.54 83.6158 10.5732 84.4322 9.78906C85.2594 9.00488 86.1886 8.40869 87.2198 8.00049C88.2618 7.58154 89.3092 7.37207 90.3619 7.37207C91.0816 7.38281 91.8121 7.47949 92.5533 7.66211C93.1871 7.8125 93.8692 8.06494 94.5997 8.41943C95.3302 8.76318 96.0123 9.2627 96.6461 9.91797L96.775 1.66797L99.8043 1.89355ZM90.5391 23.0181C91.2052 23.0181 91.8551 22.9106 92.4888 22.6958C93.1226 22.481 93.7027 22.1802 94.2291 21.7935C94.7662 21.396 95.2335 20.9233 95.6309 20.3755C96.0284 19.8276 96.3292 19.2261 96.5333 18.5708L96.5655 15.1387C96.3721 14.4512 96.0714 13.8228 95.6632 13.2534C95.255 12.6733 94.7769 12.1792 94.2291 11.771C93.6812 11.3628 93.0797 11.0459 92.4244 10.8203C91.7799 10.5947 91.1192 10.4819 90.4425 10.4819C89.6475 10.4819 88.9171 10.6484 88.2511 10.9814C87.585 11.3037 87.0103 11.7495 86.5269 12.3188C86.0435 12.8882 85.6676 13.5596 85.399 14.333C85.1304 15.1064 84.9962 15.9443 84.9962 16.8467C84.9962 17.749 85.1304 18.5762 85.399 19.3281C85.6783 20.0801 86.0596 20.73 86.543 21.2778C87.0372 21.8257 87.6226 22.2554 88.2994 22.5669C88.9869 22.8677 89.7335 23.0181 90.5391 23.0181ZM124.635 10.5142C124.593 11.5347 124.383 12.4531 124.007 13.2695C123.642 14.0752 123.153 14.7896 122.541 15.4126C121.939 16.0356 121.241 16.5674 120.446 17.0078C119.651 17.4482 118.802 17.8135 117.9 18.1035C117.009 18.3828 116.085 18.5923 115.129 18.7319C114.173 18.8608 113.238 18.9253 112.325 18.9253C111.723 18.9253 111.052 18.9038 110.311 18.8608C109.57 18.8179 108.775 18.7212 107.926 18.5708L107.99 25.0322L104.591 25.1611V2.36084C105.729 1.98486 106.82 1.7002 107.862 1.50684C108.914 1.31348 109.843 1.16846 110.649 1.07178C111.594 0.964355 112.481 0.899902 113.308 0.878418C114.006 0.878418 114.774 0.9375 115.612 1.05566C116.461 1.16309 117.315 1.35645 118.174 1.63574C119.033 1.91504 119.861 2.29102 120.656 2.76367C121.461 3.23633 122.165 3.83252 122.766 4.55225C123.379 5.26123 123.857 6.10986 124.2 7.09814C124.544 8.07568 124.689 9.21436 124.635 10.5142ZM113.308 4.43945C112.696 4.43945 112.078 4.46094 111.455 4.50391C110.907 4.54688 110.316 4.62744 109.682 4.74561C109.049 4.85303 108.431 5.01416 107.829 5.229L107.894 15.2676C108.56 15.3965 109.215 15.4824 109.86 15.5254C110.515 15.5684 111.127 15.5898 111.697 15.5898C112.309 15.5898 112.964 15.563 113.662 15.5093C114.361 15.4448 115.053 15.3374 115.741 15.187C116.428 15.0259 117.089 14.8057 117.723 14.5264C118.357 14.2471 118.915 13.8926 119.399 13.4629C119.882 13.0225 120.269 12.4961 120.559 11.8838C120.849 11.2715 120.994 10.5518 120.994 9.72461C120.994 8.89746 120.811 8.16162 120.446 7.51709C120.092 6.87256 119.576 6.33008 118.899 5.88965C118.233 5.43848 117.427 5.08936 116.482 4.84229C115.537 4.59521 114.479 4.46094 113.308 4.43945ZM139.67 26.0151L139.895 23.7432C138.585 24.5811 137.296 25.188 136.028 25.564C134.771 25.9399 133.595 26.1279 132.499 26.1279C131.726 26.1279 130.974 26.0259 130.244 25.8218C129.524 25.6284 128.885 25.3276 128.326 24.9194C127.778 24.5005 127.332 23.9741 126.989 23.3403C126.656 22.6958 126.489 21.9385 126.489 21.0684C126.489 20.1982 126.618 19.4194 126.876 18.7319C127.134 18.0444 127.488 17.4375 127.939 16.9111C128.391 16.3848 128.922 15.9336 129.535 15.5576C130.147 15.1816 130.802 14.8755 131.5 14.6392C132.209 14.4028 132.951 14.231 133.724 14.1235C134.497 14.0054 135.266 13.9463 136.028 13.9463C136.737 13.9463 137.398 13.9731 138.01 14.0269C138.622 14.0806 139.165 14.1504 139.638 14.2363C139.498 13.6992 139.326 13.1729 139.122 12.6572C138.918 12.1309 138.655 11.6636 138.332 11.2554C138.021 10.8364 137.634 10.498 137.172 10.2402C136.71 9.98242 136.157 9.85352 135.513 9.85352C135.094 9.85352 134.616 9.91797 134.079 10.0469C133.541 10.165 132.951 10.3853 132.306 10.7075C131.662 11.0298 130.958 11.4756 130.195 12.0449C129.433 12.6035 128.616 13.3232 127.746 14.2041L125.796 11.8354C126.828 10.8687 127.816 10.0791 128.761 9.4668C129.706 8.85449 130.593 8.37646 131.42 8.03271C132.258 7.67822 133.031 7.43652 133.74 7.30762C134.46 7.17871 135.104 7.11426 135.674 7.11426C136.662 7.11426 137.543 7.28613 138.316 7.62988C139.09 7.96289 139.767 8.4248 140.347 9.01562C140.937 9.5957 141.432 10.2832 141.829 11.0781C142.237 11.8623 142.57 12.7109 142.828 13.624C143.086 14.5264 143.268 15.4663 143.376 16.4438C143.494 17.4214 143.553 18.3936 143.553 19.3604C143.553 20.3916 143.494 21.498 143.376 22.6797C143.258 23.8613 143.075 25.1504 142.828 26.5469L139.67 26.0151ZM140.121 20.1499C140.142 19.6128 140.159 19.0811 140.169 18.5547C140.18 18.0283 140.153 17.4805 140.089 16.9111C139.562 16.75 139.009 16.6211 138.429 16.5244C137.849 16.4277 137.269 16.3794 136.689 16.3794C135.722 16.3794 134.782 16.4922 133.869 16.7178C132.967 16.9434 132.188 17.271 131.533 17.7007C130.877 18.1304 130.383 18.6567 130.05 19.2798C129.728 19.9028 129.663 20.6118 129.857 21.4067C130.007 22.0513 130.297 22.5024 130.727 22.7603C131.167 23.0181 131.694 23.147 132.306 23.147C132.929 23.147 133.6 23.0449 134.32 22.8408C135.051 22.626 135.77 22.3682 136.479 22.0674C137.199 21.7559 137.876 21.4282 138.51 21.0845C139.143 20.7407 139.681 20.4292 140.121 20.1499ZM161.875 21.4712C161.875 22.4917 161.665 23.3511 161.246 24.0493C160.838 24.7368 160.285 25.2954 159.586 25.7251C158.899 26.1655 158.104 26.4878 157.202 26.6919C156.31 26.9067 155.381 27.0356 154.414 27.0786C153.426 27.0679 152.427 26.9658 151.417 26.7725C150.987 26.6973 150.531 26.5898 150.047 26.4502C149.575 26.3213 149.091 26.1602 148.597 25.9668C148.103 25.7734 147.609 25.5425 147.115 25.2739C146.621 25.0054 146.148 24.6938 145.697 24.3394L147.26 21.8901C147.851 22.2017 148.452 22.5024 149.065 22.7925C149.688 23.0825 150.321 23.3403 150.966 23.5659C151.61 23.7808 152.271 23.9526 152.948 24.0815C153.625 24.2104 154.323 24.2749 155.043 24.2749C155.633 24.2749 156.133 24.2212 156.541 24.1138C156.949 23.9956 157.282 23.856 157.54 23.6948C157.809 23.5229 158.013 23.335 158.152 23.1309C158.303 22.916 158.41 22.7119 158.475 22.5186C158.528 22.3467 158.55 22.1587 158.539 21.9546C158.528 21.7397 158.469 21.5249 158.362 21.3101C158.265 21.0952 158.109 20.8857 157.895 20.6816C157.69 20.4668 157.417 20.2788 157.073 20.1177C156.729 19.9458 156.31 19.8062 155.816 19.6987C155.322 19.5913 154.736 19.5215 154.06 19.4893C153.093 19.4463 152.158 19.3496 151.256 19.1992C150.364 19.0381 149.564 18.791 148.855 18.458C148.157 18.125 147.577 17.6899 147.115 17.1528C146.664 16.605 146.39 15.9229 146.293 15.1064C146.218 14.333 146.266 13.6294 146.438 12.9956C146.621 12.3511 146.889 11.7764 147.244 11.2715C147.609 10.7666 148.055 10.3262 148.581 9.9502C149.107 9.56348 149.682 9.24658 150.305 8.99951C150.928 8.7417 151.584 8.55371 152.271 8.43555C152.969 8.30664 153.673 8.24219 154.382 8.24219C154.801 8.24219 155.295 8.26367 155.864 8.30664C156.434 8.34961 157.03 8.43555 157.653 8.56445C158.276 8.69336 158.904 8.88135 159.538 9.12842C160.172 9.36475 160.763 9.68164 161.311 10.0791L160.199 13.0278C159.49 12.6519 158.813 12.3618 158.169 12.1577C157.535 11.9429 156.971 11.7764 156.477 11.6582C155.897 11.5293 155.354 11.4434 154.849 11.4004C153.163 11.3037 151.847 11.481 150.901 11.9321C149.967 12.3833 149.5 13.0654 149.5 13.9785C149.5 14.623 149.677 15.0957 150.031 15.3965C150.386 15.6865 150.869 15.896 151.482 16.0249C152.094 16.1538 152.808 16.2397 153.625 16.2827C154.441 16.3257 155.311 16.417 156.235 16.5566C157.288 16.7178 158.174 16.9595 158.894 17.2817C159.613 17.604 160.193 17.98 160.634 18.4097C161.074 18.8394 161.391 19.3174 161.585 19.8438C161.778 20.3594 161.875 20.9019 161.875 21.4712ZM179.519 21.4712C179.519 22.4917 179.31 23.3511 178.891 24.0493C178.483 24.7368 177.929 25.2954 177.231 25.7251C176.544 26.1655 175.749 26.4878 174.846 26.6919C173.955 26.9067 173.026 27.0356 172.059 27.0786C171.071 27.0679 170.072 26.9658 169.062 26.7725C168.632 26.6973 168.176 26.5898 167.692 26.4502C167.219 26.3213 166.736 26.1602 166.242 25.9668C165.748 25.7734 165.254 25.5425 164.759 25.2739C164.265 25.0054 163.793 24.6938 163.342 24.3394L164.905 21.8901C165.495 22.2017 166.097 22.5024 166.709 22.7925C167.332 23.0825 167.966 23.3403 168.611 23.5659C169.255 23.7808 169.916 23.9526 170.592 24.0815C171.269 24.2104 171.967 24.2749 172.687 24.2749C173.278 24.2749 173.778 24.2212 174.186 24.1138C174.594 23.9956 174.927 23.856 175.185 23.6948C175.453 23.5229 175.657 23.335 175.797 23.1309C175.947 22.916 176.055 22.7119 176.119 22.5186C176.173 22.3467 176.195 22.1587 176.184 21.9546C176.173 21.7397 176.114 21.5249 176.007 21.3101C175.91 21.0952 175.754 20.8857 175.539 20.6816C175.335 20.4668 175.061 20.2788 174.717 20.1177C174.374 19.9458 173.955 19.8062 173.461 19.6987C172.967 19.5913 172.381 19.5215 171.704 19.4893C170.738 19.4463 169.803 19.3496 168.901 19.1992C168.009 19.0381 167.209 18.791 166.5 18.458C165.801 18.125 165.221 17.6899 164.759 17.1528C164.308 16.605 164.034 15.9229 163.938 15.1064C163.863 14.333 163.911 13.6294 164.083 12.9956C164.265 12.3511 164.534 11.7764 164.888 11.2715C165.254 10.7666 165.699 10.3262 166.226 9.9502C166.752 9.56348 167.327 9.24658 167.95 8.99951C168.573 8.7417 169.228 8.55371 169.916 8.43555C170.614 8.30664 171.318 8.24219 172.027 8.24219C172.446 8.24219 172.94 8.26367 173.509 8.30664C174.078 8.34961 174.675 8.43555 175.298 8.56445C175.921 8.69336 176.549 8.88135 177.183 9.12842C177.817 9.36475 178.407 9.68164 178.955 10.0791L177.843 13.0278C177.134 12.6519 176.458 12.3618 175.813 12.1577C175.179 11.9429 174.615 11.7764 174.121 11.6582C173.541 11.5293 172.999 11.4434 172.494 11.4004C170.807 11.3037 169.491 11.481 168.546 11.9321C167.612 12.3833 167.144 13.0654 167.144 13.9785C167.144 14.623 167.322 15.0957 167.676 15.3965C168.03 15.6865 168.514 15.896 169.126 16.0249C169.738 16.1538 170.453 16.2397 171.269 16.2827C172.086 16.3257 172.956 16.417 173.88 16.5566C174.932 16.7178 175.819 16.9595 176.538 17.2817C177.258 17.604 177.838 17.98 178.279 18.4097C178.719 18.8394 179.036 19.3174 179.229 19.8438C179.423 20.3594 179.519 20.9019 179.519 21.4712Z" fill="#6177F0"/>
</svg>
    <p>{t('nation.firstTime')}</p>
    </div>
    <h1>{t('nation.selectTitle')}</h1>
    </div>
        <div className='join-nation-box2'>
      <div className="join-nation-choice">
      <input
        type="text"
        value={query}
        onChange={handleInputChange}
        style={{height: '25px', backgroundColor: 'white',color: 'black',}}
        placeholder={t('nation.searchPlaceholder')}
      />
      <svg className='join-nation-find' 
      onClick={handleShowANationalities}
       width="12" height="10" viewBox="0 0 12 10" fill="none" xmlns="http://www.w3.org/2000/svg">
<line x1="0.5" y1="-0.5" x2="9.74781" y2="-0.5" transform="matrix(0.58549 0.81068 -0.701028 0.713134 0 1)" stroke="#888888" strokeLinecap="round"/>
<line x1="0.5" y1="-0.5" x2="9.74781" y2="-0.5" transform="matrix(-0.58549 0.81068 0.701028 0.713134 12 1)" stroke="#888888" strokeLinecap="round"/>
</svg>
{filteredNationalities.length > 0 && (
  <ul className="nationality-list">
    {filteredNationalities.map((nat, index) => (
      <li
        key={index}
        onClick={() => handleSelectNationality(nat)} 
      >
        {nat.krName} - {nat.enName}({nat.code})
      </li>
    ))}
  </ul>
)}

  </div>
  <button className='join-nation-okbtn' onClick={handleConfirm}>
    {t('nation.confirm')}
  </button>

    </div>
    </div>
    </div>
  )
}

export default Join_natoin
